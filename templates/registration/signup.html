{% extends 'base.html' %}

{% block page_content %}
<h2>Sign Up</h2>

{% if error_message %}
  <p class="error-message">{{ error_message }}</p>
{% endif %}

<form method="post">
  {% csrf_token %}
  {{ form.as_p }}
  <div class="form-check mb-3">
    <input class="form-check-input" type="checkbox" id="togglePassword">
    <label class="form-check-label" for="togglePassword">
      Show Password
    </label>
  </div>
  <button type="submit" class="btn btn-primary">Sign Up</button>
</form>

<p>Already have an account? <a href="{% url 'home' %}">Log in here</a></p>

<script>
  document.getElementById('togglePassword').addEventListener('change', function() {
    const passwordInputs = document.querySelectorAll('input[type="password"]');
    passwordInputs.forEach(input => {
      input.type = this.checked ? 'text' : 'password';
    });
  });
</script>
{% endblock page_content %}
